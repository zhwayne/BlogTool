--- 

title: JavaScript——概述
layout: post
category: js
hidden: true

---


大二的时候曾接触过一点 JS，那时候对网页前端开发比较感兴趣，当时是《网络信息安全》选修课上一位学长推荐PHP，捣鼓一阵以后就跟JS磕上了。由于当时爱代码多过可视化，以致后来的网页设计课程里整个学期没用过DW几次，期末课程设计只能用记事本码了一个站点出来。此后再未接触这些，忘得彻彻底底。当初搭这个Blog时也是磕磕碰碰，自己修改布局，改样式，写脚本。但是，只能暂时先弄成这个鬼样子了。然后最近看到一个开源项目[JSPatch](https://github.com/bang590/JSPatch)，只需在项目中引入这个极小的引擎，就可以使用 JavaScript 调用任何 Objective-C 的原生接口，获得脚本语言的能力：动态更新 APP，替换项目原生代码修复 bug。Facebook 开源的可以使用JS开发原生应用的 React Native 框架也越来越受到关注。另外妹纸也想学点 JS，但是又不肯看书，于是决定用这个系列的文章记录下学习的过程。


**目录**

* 目录
{:toc}



# JavaScript的历史

## 诞生

大概在 1992 年，一家称作 Nombas 的公司开发了一种叫做 C 减减（C-minus-minus，简称 Cmm）的嵌入式脚本语言。Cmm 背后的理念很简单：一个足够强大可以替代宏操作（macro）的脚本语言，同时保持与 C （和 C ++）足够的相似性，以便开发人员能很快学会。这个脚本语言捆绑在一个叫做 CEnvi 的共享软件中，它首次向开发人员展示了这种语言的威力。
Nombas 最终把 Cmm 的名字改成了 ScriptEase，原因是后面的部分（mm）听起来过于消极，同时字母 C “令人害怕”。

当网上冲浪越来越流行时，对于开发客户端脚本的需求也逐渐增大。此时，大部分因特网用户还仅仅通过 28.8 kbit/s 的调制解调器连接到网络，即便这时网页已经不断地变得更大和更复杂。而更加加剧用户痛苦的是，仅仅为了简单的表单有效性验证，就要与服务器进行多次地往返交互。设想一下，用户填完一个表单，点击提交按钮，等待了 30 秒的处理后，看到的却是一条告诉你忘记填写一个必要的字段。那时正处于技术革新最前沿的 Netscape（网景公司），开始认真考虑开发一种客户端脚本语言来解决简单的处理问题。

1994 年，Netscape 发布了 Navigator 浏览器 0.9 版。这是历史上第一个比较成熟的网络浏览器，轰动一时。但是，这个版本的浏览器只能用来浏览，不具备与访问者互动的能力。Netscape 急需一种网页脚本语言，使得浏览器可以与网页互动。

当 Netscape Navigator 崭露头角时，Nombas 开发了一个可以嵌入网页中的 CEnvi 的版本。这些早期的试验被称为 Espresso Page（浓咖啡般的页面），它们代表了第一个在万维网上使用的客户端语言。而 Nombas 丝毫没有料到它的理念将会成为万维网的一块重要基石。

网页脚本语言到底是什么语言？Netscape 当时有两个选择：一个是采用现有的语言，比如 Perl、Python、Tcl、Scheme 等等，允许它们直接嵌入网页；另一个是发明一种全新的语言。
这两个选择各有利弊。第一个选择，有利于充分利用现有代码和程序员资源，推广起来比较容易；第二个选择，有利于开发出完全适用的语言，实现起来比较容易。
到底采用哪一个选择，网景公司内部争执不下，管理层一时难以下定决心。

就在这时，发生了另外一件大事：1995 年 Sun 公司将 Oa k语言改名为 Java，正式向市场推出。
Sun 公司大肆宣传，许诺这种语言可以"一次编写，到处运行"（Write Once, Run Anywhere），它看上去很可能成为未来的主宰。

![](http://image.beekka.com/blog/201106/bg2011062402.png)

Netscape 动了心，决定与 Sun 结成联盟。它不仅允许 Java 程序以  applet（小程序）的形式，直接在浏览器中运行；甚至还考虑直接将 Java 作为脚本语言嵌入网页，只是因为这样会使 HTML 网页过于复杂，后来才不得不放弃。
总之，当时的形势就是，Netscape 的整个管理层，都是 Java 语言的信徒，Sun 公司完全介入网页脚本语言的决策。因此，JavaScript 后来就是 Netscape 和 Sun 两家公司一起携手推向市场的，这种语言被命名为"Java+Script"并不是偶然的。

此时，34 岁的系统程序员 Brendan Eich 登场了。1995 年 4 月，网景公司录用了他。
Brendan Eich 的主要方向和兴趣是函数式编程，网景公司招聘他的目的，是研究将Scheme语言作为网页脚本语言的可能性。Brendan Eich本人也是这样想的，以为进入新公司后，会主要与Scheme语言打交道。

![](http://image.beekka.com/blog/201106/bg2011060503.jpg)

仅仅一个月之后，1995 年 5 月，Netscape 做出决策，未来的网页脚本语言必须"看上去与 Java 足够相似"，但是比 Java 简单，使得非专业的网页作者也能很快上手。这个决策实际上将 Perl、Python、Tcl、Scheme 等非面向对象编程的语言都排除在外了。
Brendan Eich 被指定为这种"简化版 Java 语言"的设计师。

但是，他对 Java 一点兴趣也没有。为了应付公司安排的任务，他只用 10 天时间就把 Javascript 设计出来了。由于设计时间太短，语言的一些细节考虑得不够严谨，导致后来很长一段时间，Javascript 写出来的程序混乱不堪。如果 Brendan Eich 预见到，未来这种语言会成为互联网第一大语言，全世界有几百万学习者，他会不会多花一点时间呢？总的来说，他的设计思路是这样的：

>1. 借鉴 C 语言的基本语法;
2. 借鉴 Java 语言的数据类型和内存管理;
3. 借鉴 Scheme 语言，将函数提升到"第一等公民"（first class）的地位;
4. 借鉴 Self 语言，使用基于原型（prototype）的继承机制

所以，JavaScript 语言实际上是两种语言风格的混合产物----（简化的）函数式编程+（简化的）面向对象编程。这是由Brendan Eich（函数式编程）与Netscape（面向对象编程）共同决定的。

多年以后，Brendan Eich还是看不起 Java。

如果不是公司的决策，Brendan Eich绝不可能把 Java 作为 Javascript 设计的原型。作为设计者，他一点也不喜欢自己的这个作品。他说：

> "与其说我爱 JavaScript，不如说我恨它。它是 C 语言和 Self 语言一夜情的产物。十八世纪英国文学家约翰逊博士说得好：'它的优秀之处并非原创，它的原创之处并不优秀。'（the part that is good is not original, and the part that is original is not good.）"


## 后来者和标准化

因为 JavaScript 1.0 如此成功，Netscape 在 Netscape Navigator 3.0 中发布了 1.1 版。恰巧那个时候，微软决定进军浏览器，发布了 IE 3.0 并搭载了一个 JavaScript 的克隆版，叫做 JScript（这样命名是为了避免与 Netscape 潜在的许可纠纷），并且微软还提供了自己的 VBScript。微软步入 Web 浏览器领域的这重要一步虽然令其声名狼藉，但也成为 JavaScript 语言发展过程中的重要一步。

在微软进入后，有 3 种不同的 JavaScript 版本同时存在：Netscape Navigator 3.0 中的 JavaScript、IE 中的 JScript 以及 CEnvi 中的 ScriptEase。与 C 和其他编程语言不同的是，JavaScript 并没有一个标准来统一其语法或特性，而这 3 种不同的版本恰恰突出了这个问题。随着业界担心的增加，这个语言的标准化显然已经势在必行。

1997 年，JavaScript 1.1 作为一个草案提交给欧洲计算机制造商协会（ECMA）。第 39 技术委员会（TC39）被委派来“标准化一个通用、跨平台、中立于厂商的脚本语言的语法和语义”(http://www.ecma-international.org/memento/TC39.htm)。由来自 Netscape、Sun、微软、Borland 和其他一些对脚本编程感兴趣的公司的程序员组成的 TC39 锤炼出了 ECMA-262，该标准定义了名为 ECMAScript 的全新脚本语言。

在接下来的几年里，国际标准化组织及国际电工委员会（ISO/IEC）也采纳 ECMAScript 作为标准（ISO/IEC-16262）。从此，Web 浏览器就开始努力（虽然有着不同的程度的成功和失败）将 ECMAScript 作为 JavaScript 实现的基础。


## Netscape 的失误

虽然 Netscape 开发了 JavaScript 并首先提交给 ECMA 标准化，但因计划改写整个浏览器的缘故，Netscape 晚了整整一年才推出“完全遵循 ECMA 规范”的 JavaScript 1.3。而微软早在一年前就推出了遵循这一规范的 IE 4.0。这就导致 JSScript 成为 JavaScript 语言的事实标准。


# JavaScript特点

1. 解释性脚本语言
同其他脚本语言一样，JavaScript 也是一种解释性语言，其提供了一个非常方便的开发过程。JavaScript 的语法基本结构形式与 C、C++、Java 十分类似。但在使用前，不像这些语言需要先编译，而是在程序运行过程中被逐行地解释。JavaScript 与 HTML 标识结合在一起，从而方便用户的使用操作。

2. 基于对象
其也可以被看作是一种面向对象的语言，这意味着JavaScript 能运用其已经创建的对象。因此，许多功能可以来自于脚本环境中对象的方法与脚本的相互作用。

3. 弱类型
其简单性主要体现在：首先，JavaScript 是一种基于Java 基本语句和控制流之上的简单而紧凑的设计，从而对于使用者学习 Java 或其他 C 语系的编程语言是一种非常好的过渡，而对于具有 C 语系编程功底的程序员来说，JavaScript 上手也非常容易；其次，其变量类型是采用弱类型，并未使用严格的数据类型。

4. 相对安全
JavaScript 作为一种安全性语言，不被允许访问本地的硬盘，且不能将数据存入服务器，不允许对网络文档进行修改和删除，只能通过浏览器实现信息浏览或动态交互。从而有效地防止数据的丢失或对系统的非法访问。

5. 事件驱动
JavaScript 对用户的响应，是以事件驱动的方式进行的。在网页（Web Page）中执行了某种操作所产生的动作，被称为“事件”（Event）。例如按下鼠标、移动窗口、选择菜单等都可以被视为事件。当事件发生后，可能会引起相应的事件响应，执行某些对应的脚本，这种机制被称为“事件驱动”。

6. 跨平台性
JavaScript 依赖于浏览器本身，与操作环境无关，只要计算机能运行浏览器，并支持 JavaScript 的浏览器，就可正确执行，从而实现了“编写一次，走遍天下”的梦想。

因此，JavaScript 是一种新的描述语言，其可以被嵌入到HTML文件中。JavaScript 语言可以做到响应使用者的需求事件（例如表单的输入），而不需要任何的网络来回传输资料。所以当一位使用者输入一项资料时，此资料数据不用经过传给服务器（server）处理再传回来的过程，而直接可以被客户端（client）的应用程序所处理。


# 参考资料

{% highlight html linenos %}
http://www.ruanyifeng.com/blog/2011/06/birth_of_javascript.html
http://www.cnblogs.com/SanMaoSpace/archive/2013/06/14/3136774.html
{% endhighlight %}